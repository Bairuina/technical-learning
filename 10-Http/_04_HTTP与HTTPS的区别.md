> <https://blog.csdn.net/qq_42364543/article/details/107793441>

+ HTTP是超文本传输协议，信息是明文传输，HTTPS则是具有安全性的SSL/TLS加密传输协议
+ HTTP和HTTPS使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443
+ HTTP的连接很简单，是无状态的；HTTPS协议是由SSL/TLS+HTTP协议构建的可进行加密传输、身份认证的网络协议，比HTTP协议安全。
+ HTTPS协议需要到CA申请证书，一般免费证书较少，因而需要一定费用

## HTTPS特点

基于HTTP协议，通过SSL或TLS提供加密处理数据、验证对方身份以及数据完整性保护

+ 内容加密：采用混合加密技术，中间者无法直接查看明文内容
+ 验证身份：通过证书认证客户端访问的是自己的服务器
+ 保护数据完整性：防止传输的内容被中间人冒充或者篡改

><https://www.cnblogs.com/czsy/p/10849159.html>
><https://www.jianshu.com/p/e30a8c4fa329>

## HTTP加密流程

+ HTTPS是通过SSL(安全套接层)和TLS(安全传输协议)的组合使用，加密TCP载荷即HTTP报文内容，
+ 同时通过不对称密钥方式认证身份，保证传输的安全可靠
+ 即： HTTP + 加密 + 认证 + 完整性保护 = HTTPS

+ 原本HTTP先和TCP（假定传输层是TCP协议）直接通信，
+ 而加了SSL后，就变成HTTP先和SSL通信，再由SSL和TCP通信，
+ 相当于SSL被嵌在了HTTP和TCP之间
+ HTTPS 是身披 SSL 外壳的 HTTP

### 共享密钥加密 （对称密钥加密）

采用的是使用相同密钥对报文进行加密解密

### 公开密钥加密 （非对称密钥加密）

发送密文的一方使用公开密钥进行加密处理，对方收到被加密的信息后，再使用自己的私有密钥进行解密

公开密钥比共享密钥要慢 综合一下他们两者的优缺点，使他们共同使用 这也是HTTPS采用的加密方式
在交换密钥阶段使用公开密钥加密方式，之后建立通信交换报文阶段则使用共享密钥加密方式

## HTTPS协议的缺点

+ https握手阶段比较费时，会使页面加载时间延长50%，增加10%~20%的耗电。
+ https缓存不如http高效，会增加数据开销。
+ SSL证书也需要钱，功能越强大的证书费用越高。
+ SSL证书需要绑定IP
+ 网络负载会变慢 消耗服务器和客户端的硬件资源，导致负载增强
+ 加密通信会消耗更多的 CPU 及内存资源

## HTTP教程

<https://www.runoob.com/http/http-tutorial.html>

+ HTTP 简介
+ HTTP 消息结构
+ HTTP 方法
+ HTTP 头信息
+ HTTP 状态码

四、HTTPS通信过程
一个HTTPS请求实际上包含了两次HTTP传输，可以细分为8步。

1.客户端向服务器发起HTTPS请求，连接到服务器的443端口

2.服务器端有一个密钥对，即公钥和私钥，是用来进行非对称加密使用的，服务器端保存着私钥，不能将其泄露，公钥可以发送给任何人。

3.服务器将自己的公钥发送给客户端。

4.客户端收到服务器端的证书之后，会对证书进行检查，验证其合法性，如果发现发现证书有问题，那么HTTPS传输就无法继续。严格的说，这里应该是验证服务器发送的数字证书的合法性，关于客户端如何验证数字证书的合法性，下文会进行说明。如果公钥合格，那么客户端会生成一个随机值，这个随机值就是用于进行对称加密的密钥，我们将该密钥称之为client key，即客户端密钥，这样在概念上和服务器端的密钥容易进行区分。然后用服务器的公钥对客户端密钥进行非对称加密，这样客户端密钥就变成密文了，至此，HTTPS中的第一次HTTP请求结束。

5.客户端会发起HTTPS中的第二个HTTP请求，将加密之后的客户端密钥发送给服务器。

6.服务器接收到客户端发来的密文之后，会用自己的私钥对其进行非对称解密，解密之后的明文就是客户端密钥，然后用客户端密钥对数据进行对称加密，这样数据就变成了密文。

7.然后服务器将加密后的密文发送给客户端。

8.客户端收到服务器发送来的密文，用客户端密钥对其进行对称解密，得到服务器发送的数据。这样HTTPS中的第二个HTTP请求结束，整个HTTPS传输完成。

五、HTTPS协议的优点
1.使用HTTPS协议可认证用户和服务器，确保数据发送到正确的客户机和服务器；

2.HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，要比http协议安全，可防止数据在传输过程中不被窃取、改变，确保数据的完整性。

3.HTTPS是现行架构下最安全的解决方案，虽然不是绝对安全，但它大幅增加了中间人攻击的成本。

六、HTTPS协议的缺点
1.https握手阶段比较费时，会使页面加载时间延长50%，增加10%~20%的耗电。

2.https缓存不如http高效，会增加数据开销。

3.SSL证书也需要钱，功能越强大的证书费用越高。

4.SSL证书需要绑定IP，不能再同一个ip上绑定多个域名，ipv4资源支持不了这种消耗。

七、HTTP和HTTPS的区别？
http传输的数据都是未加密的，也就是明文的，网景公司设置了SSL协议来对http协议传输的数据进行加密处理，简单来说https协议是由http和ssl协议构建的可进行加密传输和身份认证的网络协议，比http协议的安全性更高。
主要的区别如下：

1.Https协议需要ca证书，费用较高。

2.http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。

3.使用不同的链接方式，端口也不同，一般而言，http协议的端口为80，https的端口为443

4.http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。
————————————————
版权声明：本文为CSDN博主「忧容骑士」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：<https://blog.csdn.net/qq_42364543/article/details/107793441>

HTTPS加密过程：

客户端请求服务器获取证书公钥
客户端(SSL/TLS)解析证书（无效会弹出警告）
生成随机值
用公钥加密随机值生成密钥
客户端将秘钥发送给服务器
服务端用私钥解密秘钥得到随机值
将信息和随机值混合在一起进行对称加密
将加密的内容发送给客户端
客户端用秘钥解密信息
